<!-- We are still creating this components -->
<link rel="import" href="../polymer/polymer.html" />
<link rel="import" href="../t-section-header/t-section-header.html" />
<link rel="import" href="../t-input/t-input.html" />
<dom-module id="t-communication">
    <template>
        <style>
        .section {
            padding: 0 10px;
        }
        </style>
        <div class="layout vertical">
            <t-section-header label="Communication details"></t-section-header>
            <div class="section">
                <t-input id="phoneNumber" name="phoneNumber" label="Phone" type="number" max-length="20" error-message="You missed this." required auto-validate value="{{phone}}"></t-input>
                <t-input id="email" name="email" label="Email" type="email" error-message="Invalid email." auto-validate required value="{{email}}"></t-input>
                <t-input id="confirmEmail" name="confirmEmail" label="Confirm email" type="email" error-message="Emails don't match." auto-validate required value="{{confirmEmail}}"></t-input>
            </div>
        </div>
    </template>
</dom-module>
<script>
Polymer({

    is: 't-communication',

    properties: {

        phone: {
            type: String
        },

        email: {
            type: String
        },

        confirmEmail: {
            type: String
        }

    },

    validate: function() {
        var isValid = true;
        isValid = this.$.phoneNumber.validate() && isValid;
        isValid = this.$.email.validate() && isValid;
        isValid = this.$.confirmEmail.validate() && isValid;
        if (this.confirmEmail !== this.email) {
            this.$.confirmEmail.isInvalid = true;
            isValid = false;
        }
        return isValid;
    }
});
</script>
